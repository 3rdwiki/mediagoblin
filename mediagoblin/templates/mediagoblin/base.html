{#
# GNU MediaGoblin -- federated, autonomous media hosting
# Copyright (C) 2011 Free Software Foundation, Inc
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#}
<html>
  <head>
    <title>{% block title %}MediaGoblin{% endblock title %}</title>
    <link rel="stylesheet" type="text/css"
          href="{{ request.staticdirect('/css/base.css') }}"/>
  </head>

  <body>
  <body>
    {% block mediagoblin_body %}
      {% block mediagoblin_header %}
        <table id="mediagoblin_header">
          <tr>
            <td id="mediagoblin_logo">
              {% block mediagoblin_logo %}
                <a href="{{ request.urlgen('index') }}">MediaGoblin</a>
              {% endblock %}
            </td>
            <td>{% block mediagoblin_header_title %}MediaGoblin Home{% endblock %}</td>
          </tr>
          <tr>
            <td></td>
            <td>
              {% block mediagoblin_header_subtitle %}
                Clever subtitle here!
              {% endblock %}</td>
          </tr>
          {% if request.user %}
            <tr>
              <td></td>
              <td>
                Welcome {{ request.user['username'] }}! --
                <a href="{{ request.urlgen('mediagoblin.auth.logout') }}">
                  Logout</a>
              </td>
            </tr>
          {% else %}
            <tr>
              <td></td>
              <td>
                <a href="{{ request.urlgen('mediagoblin.auth.login') }}">
                  Login</a>
              </td>
            </tr>
          {% endif %}
        </table>
      {% endblock %}
      <div id="mediagoblin_content">
        {% block mediagoblin_content %}
        {% endblock mediagoblin_content %}
      </div>
    {% endblock mediagoblin_body %}
  </body>
</html>
